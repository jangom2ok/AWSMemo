## AWSについて

### AWS
- AWS(Amazon Web Service)
- EC2はIaaS(Infrastructure as a Service)に分類される。
- EC2仮想サーバである。

### ロードバランサー
ロードバランサー（負荷分散装置）接続先を切り替える。サーバの移行にも使用が可能

例：DNSランドロビン、l4ロードバランサ、l7ロードバランサなどがある。

- AWSのロードバランサーの種類
	- ELB (Classic Load Balancer)
	- ALB (Application Load Balancer)
	- NLB (Network Load Balancer)

### EC2とストレージ

### Route53

名前の由来はポート53番を使用することから。

## AWS EC2を使用してwebサーバを構築する [参考リンク](https://qiita.com/shunsuke227ono/items/23dbf4f3bc663a2875f0)
puttyを使用してインスタンスに接続した。
### PSCPを使用したファイルの転送 [参考リンク](http://did2.blog64.fc2.com/blog-entry-302.html)
1. windowsからインスタンスへファイルをコピーした。
	1.pscp -i 秘密鍵のパス 転送するファイルのパス インスタンスユーザ名@パブリックDNS:/home/ec2-user/転送後のファイル名

1. インスタンスからwindowsへファイルのコピーをした。

```
pscp -i 秘密鍵のパス インスタンスユーザ名@パブリックDNS:ファイルへのパス コピー先ディレクトリ
```

### EC2にCentOSをインストールする
1. クイックスタートではCentoOSは選択出来なかった。マーケットプレイスにはあるようだが、無料のものとお金がかかるものがあるようだ。

## EC2固定ipアドレスにする
Erastic IPを使用して固定化が可能。（有料）

### Route53を使用しないドメイン管理 [参考リンク](https://aws.amazon.com/jp/route53/faqs/)
- ドメイン名を Route 53 で管理していない場合、ドメイン名の登録に使用したレジストラーを通知し、ドメインのネームサーバーをホストゾーンに関連付けられたネームサーバーに更新する必要があります。
- Route53を使用しなくても、既に所有しているDNSサーバを使用することが可能。

### AWSアカウントを取得した時に最初にやるべきこと [参考リンク](https://qiita.com/tmknom/items/303db2d1d928db720888)
アカウントのセキュリティを上げて万が一に備えよう！

### AWSについて今のところ覚えておきたい情報
- EC2インスタンスに対して使える鍵はインスタンス作成時に作った鍵のみ。追加の鍵が必要な場合はインスタンス側で生成する。
- Route53を使用しなくても別のDNSサーバを使用することもできる。ただし手動で設定する項目がある。
- AWSアカウントはセキュリティ面がすごく脆弱なので個人で対策する必要あり。
	- MFS認証でパスワードとデバイスに表示されるナンバーでロインできるようにすること。
	- 基本的にルートユーザーは使用したくないので（当たり前）わりとなるユーザーを作成し作業をすること
	- 基本的にルートユーザを使用しない。

### ALB CLB NLB それぞれの違い [参考リンク](https://dev.classmethod.jp/cloud/aws/describe-elb-types/)
- ALB,CLBとNLBで違いがある。
- ALB(L7リバースプロキシ),CLB(L4/L7リバースプロキシ),NLB(L4 NATロードバランサ)
- ALBとCLBはリバースプロキシなので、行き帰りの通信が必ずロードバランサを経由する。しかしNLBはインスタンスからのレスポンスがロードバランサを経由しない。NLBの方がロードバランサ自体の負荷を軽減できるため、他の２つより低遅延を実現できる。
- NLBを使用した場合、インスタンス側はNLBからの通信なのか、NLBを経由していない通信なのかを区別できない。(クライアントからの直接アクセスを制限できない)


### 豆知識
Q1. AWSのサーバの実体はどこにあるの？

A1. 場所や外観は非公開。東京にあるが公開されていない。データセンタは非常に高いセキュリティで守られているようだ。
